<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>HTML Live Editor</title>
  <style>
    :root {
      --bg: #0f172a;
      --accent: #38bdf8;
      --panel: #1e293b;
    }
    body, html {
      margin: 0; padding: 0;
      height: 100%; background: var(--bg);
      color: white; font-family: sans-serif;
      overflow: hidden;
    }
    /* –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ */
    #uploadScreen {
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      height: 100%; text-align: center;
    }
    .drop-zone {
      border: 3px dashed var(--accent);
      padding: 50px; border-radius: 20px;
      cursor: pointer; transition: 0.3s;
    }
    .drop-zone:hover { background: rgba(56, 189, 248, 0.1); }

    /* –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ */
    #editorContainer {
      display: none; /* –°–∫—Ä—ã—Ç –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ */
      grid-template-columns: 1fr 1fr;
      height: 100vh;
    }
    textarea {
      background: #1e293b; color: #cbd5e1;
      border: none; border-right: 2px solid #334155;
      padding: 20px; font-family: 'Courier New', monospace;
      font-size: 14px; outline: none; resize: none;
    }
    iframe {
      background: white; border: none;
      width: 100%; height: 100%;
    }
    .controls {
      position: fixed; bottom: 20px; right: 20px;
      display: flex; gap: 10px;
    }
    .btn {
      background: #ef4444; color: white; border: none;
      padding: 10px 20px; border-radius: 5px; cursor: pointer;
    }
  </style>
</head>
<body>

  <div id="uploadScreen">
    <div class="drop-zone" id="dropZone">
      <h2>üöÄ Live HTML –†–µ–¥–∞–∫—Ç–æ—Ä</h2>
      <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ HTML —Ñ–∞–π–ª —Å—é–¥–∞, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</p>
      <input type="file" id="fileInput" accept=".html" style="display:none">
      <button class="btn" style="background: var(--accent); color: #000;" onclick="document.getElementById('fileInput').click()">–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</button>
    </div>
  </div>

  <div id="editorContainer">
    <textarea id="codeEditor" placeholder="–ü–∏—à–∏—Ç–µ –≤–∞—à –∫–æ–¥ –∑–¥–µ—Å—å..."></textarea>
    <iframe id="livePreview"></iframe>
    
    <div class="controls">
      <button class="btn" onclick="location.reload()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <script>
    const uploadScreen = document.getElementById('uploadScreen');
    const editorContainer = document.getElementById('editorContainer');
    const codeEditor = document.getElementById('codeEditor');
    const livePreview = document.getElementById('livePreview');
    const fileInput = document.getElementById('fileInput');

    // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
    function updatePreview() {
      const code = codeEditor.value;
      livePreview.srcdoc = code;
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
    function loadFile(file) {
      if (file && file.name.endsWith('.html')) {
        const reader = new FileReader();
        reader.onload = (e) => {
          codeEditor.value = e.target.result; // –ö–ª–∞–¥–µ–º –∫–æ–¥ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
          uploadScreen.style.display = 'none'; // –ü—Ä—è—á–µ–º –∑–∞–≥—Ä—É–∑–∫—É
          editorContainer.style.display = 'grid'; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä
          updatePreview(); // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
        };
        reader.readAsText(file);
      }
    }

    // –°–ª—É—à–∞—Ç–µ–ª–∏
    fileInput.onchange = (e) => loadFile(e.target.files[0]);
    codeEditor.oninput = updatePreview; // –ú–∞–≥–∏—è: –æ–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à–∏

    // Drag and Drop
    window.ondragover = (e) => e.preventDefault();
    window.ondrop = (e) => {
      e.preventDefault();
      loadFile(e.dataTransfer.files[0]);
    };
  </script>
</body>
</html>
